import{e as d,B as m,f,v as o,i as x,H as y,u as w,g as c,c as p,a as t,y as g,k as v,o as i}from"./Dn4piMSu.js";const _={class:"max-[460px]:px-6 px-12 flex justify-center items-center md:py-8 w-full"},h={class:"max-w-pagewide flex flex-col w-full flex-wrap justify-center items-center xl:flex-nowrap gap-x-8 gap-y-12"},k={class:"flex flex-col"},A={key:0,class:"w-[480px] h-[321px] animate-pulse bg-panelBg rounded-xl flex justify-center items-center"},I=d({__name:"payment",setup(P){const r=m(),u=f(),a=o(null),n=o(null),l=o(!1);return x(()=>{window.wpwlOptions={onReady:function(){l.value=!0}}}),y(async()=>{const s=Number(r.totalPrice).toFixed(2);if(!s||s==0)return;const e=await u.checkout.getCheckoutForm(s);a.value=e==null?void 0:e.checkoutId,n.value=e==null?void 0:e.integrity,w({script:[{src:c(()=>`https://eu-test.oppwa.com/v1/paymentWidgets.js?checkoutId=${a.value}`),integrity:c(()=>n.value),crossorigin:"anonymous",async:!0}]})}),(s,e)=>(i(),p("div",_,[t("div",h,[e[2]||(e[2]=t("span",null,"Payment provided securely by oppwa.com",-1)),t("div",k,[v(l)?g("",!0):(i(),p("div",A,e[0]||(e[0]=[t("span",{class:"splash-loader"},null,-1)]))),e[1]||(e[1]=t("form",{action:"https://totalprocessing.docs.oppwa.com/integrations/widget",class:"paymentWidgets","data-brands":"APPLEPAY GOOGLEPAY MASTER VISA PAYPAL"},null,-1))])])]))}});export{I as default};
