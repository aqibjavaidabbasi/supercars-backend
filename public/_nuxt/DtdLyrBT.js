import{_ as A}from"./1Si6OZBG.js";import{e as C,f as E,i as F,v as _,c as r,o as i,a as s,s as I,k as t,y as u,b as p,x as h,z as b,t as x,w as T,d as z,_ as B,n as D}from"./Dn4piMSu.js";import{u as L}from"./BeIkKftJ.js";import{o as M,s as k,t as U}from"./DUyE5pZ-.js";const q={class:"max-[490px]:px-6 px-12 w-full flex flex-col justify-center items-center"},R={class:"my-12 w-full max-w-sm flex flex-col justify-center items-center z-10"},Y={class:"flex flex-col gap-y-2"},$={key:0,class:"text-xs text-red-400"},G={class:"flex flex-col gap-y-2"},H={key:0,class:"text-xs text-red-400"},J={class:"flex flex-col gap-y-3"},ee=C({__name:"login",setup(K){const f=E();F(()=>{console.log(f.authData)});const V=M({email:k().email("Invalid email").nonempty("Email is required"),password:k().min(6,"Password must be at least 6 characters")}),{defineField:g,handleSubmit:S,errors:o,setFieldError:y,resetForm:O}=L({validationSchema:U(V)}),[c,j]=g("email"),[m,N]=g("password"),l=_(null),n=_(!1),w=S(async d=>{l.value=null,n.value=!1;try{const e=await f.makeAuth(d.email,d.password);if(!e||e.error){y("email","Invalid email or password"),y("password"," ");return}toast.add({title:"Success!",duration:1500,icon:"i-lucide-badge-check",description:"You logged in successfully."}),n.value=!0}catch{l.value="Unexpected error. Please try again later."}});return(d,e)=>{const v=A,P=B;return i(),r("div",q,[s("div",R,[e[7]||(e[7]=s("span",{class:"text-color text-5xl font-black"},"Log in to your account",-1)),s("form",{onSubmit:e[2]||(e[2]=I((...a)=>t(w)&&t(w)(...a),["prevent"])),class:"flex flex-col mt-12 w-full gap-y-6"},[s("div",Y,[e[3]||(e[3]=s("span",{class:"text-sm"},"Email",-1)),p(v,h({placeholder:"example@gmail.com",type:"email"},t(j),{modelValue:t(c),"onUpdate:modelValue":e[0]||(e[0]=a=>b(c)?c.value=a:null)}),null,16,["modelValue"]),t(o).email?(i(),r("span",$,x(t(o).email),1)):u("",!0)]),s("div",G,[e[4]||(e[4]=s("span",{class:"text-sm"},"Password",-1)),p(v,h({placeholder:"**********",type:"password",autocomplete:"password"},t(N),{modelValue:t(m),"onUpdate:modelValue":e[1]||(e[1]=a=>b(m)?m.value=a:null)}),null,16,["modelValue"]),t(o).password?(i(),r("span",H,x(t(o).password),1)):u("",!0)]),s("div",J,[e[6]||(e[6]=s("button",{type:"submit",class:"min-h-[48px] font-[600] inline-flex items-center justify-center gap-x-1 px-4 py-3 bg-accent rounded-lg cursor-pointer text-white hover:bg-accent/80 active:scale-105 hover:text-white transition"}," Log In ",-1)),p(P,{href:"/auth/signup",class:"border-accent/30 border min-h-[48px] inline-flex items-center justify-center gap-x-1 px-4 py-3 bg-white/8 rounded-lg cursor-pointer hover:bg-white/10 active:scale-105 hover:text-normal/70 transition"},{default:T(()=>e[5]||(e[5]=[z(" Don't have an account? ")])),_:1,__:[5]})]),t(l)?(i(),r("p",{key:0,class:D([{"text-green-500":t(n),"text-red-500":!t(n)},"text-center text-sm mt-2"])},x(t(l)),3)):u("",!0)],32)])])}}});export{ee as default};
